let scrollPos=window.scrollY;const header=document.querySelector("header"),headerHeight=header.offsetHeight,addClassOnScroll=()=>header.classList.add("fade-in"),removeClassOnScroll=()=>header.classList.remove("fade-in");window.addEventListener("scroll",(function(){scrollPos=window.scrollY,scrollPos>=headerHeight?header.classList.add("fade-in"):header.classList.remove("fade-in")}));const btn=document.querySelector("button.form__submit-button");function sendData(e){const t=new XMLHttpRequest;let n,s="",o=[];for(n in e)o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));s=o.join("&").replace(/%20/g,"+"),t.addEventListener("progress",(function(e){btn.disabled=!0})),t.addEventListener("error",(function(e){console.log(e),btn.classList.add("error")})),t.open("POST","https://jobs.1gency.ee/email/"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(s),t.onload=()=>{btn.classList.add("success"),btn.innerHTML="Success",btn.classList.remove("--show"),setTimeout((()=>{btn.classList.remove("success"),btn.innerHTML='<div class="spinner"></div>Join Us',btn.disabled=!1}),4e3)}}btn.addEventListener("click",(function(e){e.preventDefault();let t="";const n=e=>document.getElementById(e).value;""===n("applicantName")&&document.getElementById("applicantName").classList.add("error"),["applicantName","applicantEmail","positionName","positionDescription","resumeUrl"].forEach((e=>{t+="\r\n"+e+": "+n(e)})),sendData({subject:n("applicantName")+" / "+n("positionName"),text:t,form:"1gency-jobs"}),btn.classList.add("--show"),btn.disabled=!0}));
